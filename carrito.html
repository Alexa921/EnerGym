<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Barlow+Semi+Condensed:wght@400;600&family=Montserrat:wght@400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/carrito.css">
    <title>ENERGYM - Carrito</title>
</head>
<body>
    <!-- NAVBAR -->
    <nav class="navbar">
        <div class="nav-left">
            <a href="/index.html"><h1 class="logo">ENERGYM</h1></a>
        </div>
        <ul class="nav-center">
            <li class="dropdown">
                <a href="#">Acerca de</a>
                <ul class="dropdown-menu">
                    <li><a href="/instructores.html">Instructores</a></li>
                    <li><a href="/clases.html">Clases</a></li>
                    <li><a href="/precios.html">Precios</a></li>
                </ul>
            </li>
            <li><a href="/programa.html">Programa</a></li>
            <li><a href="/contacto.html">Contacto</a></li>
            <li><a href="/tienda.html">Tienda</a></li>
        </ul>
        <div class="nav-right">
            <a href="https://instagram.com" target="_blank"><img src="https://cdn-icons-png.flaticon.com/512/1384/1384031.png" alt="Instagram" class="icon"></a>
            <a href="https://facebook.com" target="_blank"><img src="https://cdn-icons-png.flaticon.com/512/1384/1384005.png" alt="Facebook" class="icon"></a>
            <a href="https://twitter.com" target="_blank"><img src="https://cdn-icons-png.flaticon.com/512/1384/1384017.png" alt="Twitter" class="icon"></a>
            <a href="/carrito.html"><img src="https://cdn-icons-png.flaticon.com/512/1170/1170576.png" alt="Carrito" class="icon"></a>
            <span id="contador">0</span>
        </div>
    </nav>

    <!-- CONTENIDO DEL CARRITO -->
    <main class="container mt-5">
        <h2>Tu carrito</h2>
        <div id="lista-carrito"></div>

        <div class="mt-3">
            <h4>Subtotal: <span id="subtotal">0,00 </span></h4>
        </div>
    </main>

    <!-- FOOTER -->
    <footer class="footer mt-5">
        <div class="footer-top">
            <div class="newsletter">
                <h2>MANTENTE AL DÍA</h2>
                <p>Regístrate para enterarte de las clases nuevas, los servicios adicionales y más antes que nadie.</p>
                <form>
                    <input class="email" type="email" placeholder="Correo electrónico" required>
                    <button type="submit">Registrarse</button>
                </form>
            </div>
        </div>

        <div class="footer-bottom">
            <div class="footer-links">
                <h3>AYUDA</h3>
                <ul>
                    <li><a href="#">Términos y condiciones</a></li>
                    <li><a href="#">Política de privacidad</a></li>
                    <li><a href="#">Preguntas frecuentes</a></li>
                </ul>
            </div>

            <div class="footer-links">
                <h3>CONTACTO</h3>
                <p>alexandra@ejemplo.com</p>
                <p>1+(555)-555-5555</p>
                <p>© Alexandra Restrepo - 2025</p>
            </div>

            <div class="footer-logo">
                <h3>ENERGYM</h3>
            </div>
        </div>
    </footer>

    <script>
    document.addEventListener("DOMContentLoaded", function () {
        let carrito = JSON.parse(localStorage.getItem("carrito")) || [];
        let listaCarrito = document.getElementById("lista-carrito");
        let subtotalElem = document.getElementById("subtotal");
        let contadorElem = document.getElementById("contador");

    function formatearPrecio(precio) {
        return precio.toLocaleString("es-CO", {
            style: "currency",
            currency: "COP",
            minimumFractionDigits: 0
        });
    }

    function actualizarContador() {
        contadorElem.textContent = carrito.length;
    }

    function renderCarrito() {
        if (carrito.length === 0) {
            listaCarrito.innerHTML = "<p>Tu carrito está vacío.</p>";
            subtotalElem.textContent = formatearPrecio(0);
            actualizarContador();
            return;
        }

        let subtotal = 0;
        listaCarrito.innerHTML = carrito.map((item, index) => {
            let precioTotal = item.precio * item.cantidad;
            subtotal += precioTotal;

            return `
            <div class="producto-carrito d-flex align-items-center justify-content-between border p-2 mb-2">
                <img src="${item.imagen}" alt="${item.nombre}" width="60">
                <div>
                    <h5>${item.nombre}</h5>
                    <p class="mb-0">Paquete: ${item.tamano}</p>
                </div>
                <span>x${item.cantidad}</span>
                <span>${formatearPrecio(precioTotal)}</span>
                <button class="eliminar btn btn-danger btn-sm" data-index="${index}">Eliminar</button>
            </div>
            `;
        }).join("");

        subtotalElem.textContent = formatearPrecio(subtotal);

        document.querySelectorAll(".eliminar").forEach(boton => {
            boton.addEventListener("click", (e) => {
                let index = e.target.getAttribute("data-index");
                carrito.splice(index, 1);
                localStorage.setItem("carrito", JSON.stringify(carrito));
                renderCarrito();
            });
        });

        actualizarContador();
    }

    renderCarrito();
});


    // Detecta el scroll y agrega/clasifica clase "scrolled"
    window.addEventListener('scroll', function() {
        const navbar = document.querySelector('.navbar');
        if (window.scrollY > 50) { 
            navbar.classList.add('scrolled');
        } else {
            navbar.classList.remove('scrolled');
        }
    });
</script>
</body>
<script src="carrito.js"></script>
</html>
